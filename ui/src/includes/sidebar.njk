<aside class="fixed inset-y-50 left-0 z-50 w-max lg:w-1/5 transform -translate-x-full 
                md:relative md:translate-x-0 transition-transform duration-200 ease-in-out 
                bg-white border-r border-gray-200 overflow-y-auto">
    <div class="flex flex-col w-max bg-white">
        <div class="flex items-center h-16 px-4 border-b border-gray-200">
            <h2 class="text-lg font-medium text-gray-900">Resume Manager</h2>
        </div>
        <nav class="flex-1 px-2 py-4 space-y-1">
            <a href="/dashboard" class="flex items-center px-4 py-2 text-sm font-medium {% if page.url == '/dashboard/' %}text-gray-900 bg-blue-50{% else %}text-gray-600 hover:text-gray-900 hover:bg-gray-50{% endif %} rounded-md group">
                <svg class="w-5 h-5 mr-3 {% if page.url == '/dashboard/' %}text-blue-500{% else %}text-gray-400 group-hover:text-gray-500{% endif %}" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"/>
                </svg>
                Dashboard
            </a>
            <a href="/analyze" class="flex items-center px-4 py-2 text-sm font-medium {% if page.url == '/analyze/' %}text-gray-900 bg-blue-50{% else %}text-gray-600 hover:text-gray-900 hover:bg-gray-50{% endif %} rounded-md group">
                <svg class="w-5 h-5 mr-3 {% if page.url == '/analyze/' %}text-blue-500{% else %}text-gray-400 group-hover:text-gray-500{% endif %}" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                </svg>
                Analyze Resume
            </a>
            <a href="/premium" class="flex items-center px-4 py-2 text-sm font-medium {% if page.url == '/premium/' %}text-gray-900 bg-blue-50{% else %}text-gray-600 hover:text-gray-900 hover:bg-gray-50{% endif %} rounded-md group">
                <svg class="w-5 h-5 mr-3 {% if page.url == '/premium/' %}text-blue-500{% else %}text-gray-400 group-hover:text-gray-500{% endif %}" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
                </svg>
                <span class="flex-1">Go Premium</span>
                <!-- Premium Badge -->
                <span class="ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-gradient-to-r from-purple-500 to-pink-500 text-white">
                    <svg class="w-3 h-3 mr-0.5" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M5 5a3 3 0 015-2.236A3 3 0 0114.83 6H16a2 2 0 110 4h-5V9a1 1 0 10-2 0v1H4a2 2 0 110-4h1.17C5.06 5.687 5 5.35 5 5zm4 1V5a1 1 0 10-1 1h1zm3 0a1 1 0 10-1-1v1h1z" clip-rule="evenodd"/>
                        <path d="M9 11H3v5a2 2 0 002 2h4v-7zM11 18h4a2 2 0 002-2v-5h-6v7z"/>
                    </svg>
                    PRO
                </span>
            </a>
            <!-- analytics page for admins. must be hidden for regular users. use js to make it visible after dom load-->
            <a href="/analytics" class="flex items-center px-4 py-2 text-sm font-medium {% if page.url == '/analytics/' %}text-gray-900 bg-blue-50{% else %}text-gray-600 hover:text-gray-900 hover:bg-gray-50{% endif %} rounded-md group hidden" id="analytics-link">
                <svg class="w-5 h-5 mr-3 {% if page.url == '/analytics/' %}text-blue-500{% else %}text-gray-400 group-hover:text-gray-500{% endif %}" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2 2m0 0l4 4m-4-4l4-4m6 6l2 2m0 0l4 4m-4-4l4-4M9 12l2 2m0 0l4 4m-4-4l4-4M15 12l2 2m0 0l4 4m-4-4l4-4"/>
                </svg>
                Analytics
            </a>

            <a href="/profile" class="flex items-center px-4 py-2 text-sm font-medium {% if page.url == '/profile/' %}text-gray-900 bg-blue-50{% else %}text-gray-600 hover:text-gray-900 hover:bg-gray-50{% endif %} rounded-md group">
                <svg class="w-5 h-5 mr-3 {% if page.url == '/profile/' %}text-blue-500{% else %}text-gray-400 group-hover:text-gray-500{% endif %}" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                </svg>
                Profile
            </a>
            <button type="button" onclick="logoutUser()" class="flex items-center px-4 py-2 text-sm font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-md group">
                <svg class="w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"/>
                </svg>
                Logout
            </button>
        </nav>
    </div>
</aside>
<!-- Overlay (hidden by default) -->
<div id="sidebar-overlay" class="fixed inset-0 z-40 bg-black bg-opacity-50 hidden md:hidden"></div>

<script src="/js/sidebar.js"></script>
<script>
    // Check if the user is an admin and show the analytics link if true
    document.addEventListener('DOMContentLoaded', function() {
        const user = API.getUser();
        const isAdmin = user && user.is_admin;
        const analyticsLink = document.getElementById('analytics-link');
        // console.log('User:', user);
        if (isAdmin) {
            analyticsLink.classList.remove('hidden');
        } else {
            analyticsLink.classList.add('hidden');
        }
    });
</script>